<div class="row">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
        <h1 class="page-title txt-color-blueDark">
            <i class="fa fa-user "></i>
            Users
			<span>> 
				Users
			</span>
        </h1>
    </div>
    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
        <ul id="sparks" class="">
            <li class="sparks-info">
                <h5> Active Users <span class="txt-color-blue">200</span></h5>
                <div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">
                    130, 187, 250, 257, 200, 210, 300, 270, 363, 247, 270, 220, 200
                </div>
            </li>
            <li class="sparks-info">
                <h5> Site Traffic <span class="txt-color-purple"><i class="fa fa-arrow-circle-up" data-rel="bootstrap-tooltip" title="Increased"></i>&nbsp;45%</span></h5>
                <div class="sparkline txt-color-purple hidden-mobile hidden-md hidden-sm">
                    110,150,300,130,400,240,220,310,220,300, 270, 210
                </div>
            </li>
            <li class="sparks-info">
                <h5> New Users <span class="txt-color-greenDark"><i class="fa fa-shopping-cart"></i>&nbsp;27</span></h5>
                <div class="sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm">
                    11,15,30,13,40,24,22,31,22,30, 27, 21
                </div>
            </li>
        </ul>
    </div>
</div>

<!-- widget grid -->
<section id="widget-grid" class="">

<!-- row -->
<div class="row">

<!-- NEW WIDGET START -->
<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

<!-- Widget ID (each widget will need unique ID)-->
<div class="jarviswidget jarviswidget-color-blueDark" id="user_table" data-widget-editbutton="false">
<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

				-->
<header>
    <span class="widget-icon"> <i class="fa fa-user"></i> </span>
    <h2>Users</h2>

</header>

<!-- widget div-->
<div>

<!-- widget edit box -->
<div class="jarviswidget-editbox">
    <!-- This area used as dropdown edit box -->

</div>
<!-- end widget edit box -->

<!-- widget content -->
<div class="widget-body no-padding">
    <div id="user_action_div" class="user_action_div">
        <div class="btn-group user_action_btn">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                Action
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li title="Add New User"><a id="add_user_btn" href="javascript:void(0);">Add</a></li>
                <li class="divider"></li>
                <li title="Enable Account"><a id="enable_user_btn" href="javascript:void(0);">Enable</a></li>
                <li title="Disable Account"><a id="diable_user_btn" href="javascript:void(0);">Disable</a></li>
            </ul>
        </div>
    </div>
    <table id="org_user_table" class="table table-striped table-hover" width="100%">
        <thead>
            <tr>
                <th></th>
                <th>ID</th>
                <th>Display Name</th>
                <th>Name</th>
                <th>email</th>
                <th>Organization</th>
                <th>Last Login</th>
                <th>Reg Date</th>
            </tr>
        </thead>
        <tbody id="user_tb_body"></tbody>
    </table>
</div>
<!-- end widget content -->

</div>
<!-- end widget div -->

</div>
<!-- end widget -->

</article>
<!-- WIDGET END -->

</div>
<!-- end row -->

<!-- start row -->
<div class="row">

<!-- NEW WIDGET START -->
<article class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

<!-- Widget ID (each widget will need unique ID)-->
<div class="jarviswidget jarviswidget-color-blueDark" id="user_info" data-widget-editbutton="false">

<header>
    <span class="widget-icon"> <i class="fa fa-user"></i> </span>
    <h2>User Information</h2>
</header>

<!-- widget div-->
<div>

<!-- widget edit box -->
<div class="jarviswidget-editbox">
    <!-- This area used as dropdown edit box -->

</div>
<!-- end widget edit box -->

<!-- widget content -->
<div class="widget-body no-padding">
    <form action="" id="user_info_form" class="smart-form" novalidate="novalidate">
        <fieldset>
            <div class="row">
                <section class="col col-6">
                    <label class="label">First Name</label>
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="text" id="user_info_first_name" name="first_name">
                    </label>
                </section>
                <section class="col col-6">
                    <label class="label">Last Name</label>
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="text" name="last_name">
                    </label>
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label class="label">Username</label>
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="text" name="username" disabled>
                    </label>
                </section>
                <section class="col col-6">
                    <label class="label">Display Name</label>
                    <label class="input">
                        <i class="icon-prepend fa fa-user"></i>
                        <i class="icon-append fa fa-question-circle"></i>
                        <input type="text" name="display_name">
                        <b class="tooltip tooltip-top-right">
                            <i class="fa fa-warning txt-color-teal"></i>
                            Leave blank to user first and last name
                        </b>
                    </label>
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label class="label">Password</label>
                    <label class="input"> <i class="icon-prepend fa fa-lock"></i>
                        <input type="password" id="user_info_password" name="password">
                    </label>
                </section>
                <section class="col col-6">
                    <label class="label">Confirm Password</label>
                    <label class="input"> <i class="icon-prepend fa fa-lock"></i>
                        <input type="password" name="password2">
                    </label>
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label class="label">Email</label>
                    <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                        <input type="email" id="user_info_email" name="email">
                    </label>
                </section>
                <section class="col col-6">
                    <label class="label">Confirm Email</label>
                    <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                        <input type="email" name="email2">
                    </label>
                </section>
            </div>
{#            <div class="row">#}
{#                <section class="col col-6">#}
{#                    <label class="label">Birth Day <small>(month/day/year)</small></label>#}
{#                    <label class="input"> <i class="icon-prepend fa fa-calendar"></i>#}
{#                        <input type="text" name="birthday" class="form-control" data-mask="99/99/9999" data-mask-placeholder="-">#}
{#                    </label>#}
{#                </section>#}
{#                <section class="col col-6">#}
{#                    <label class="label">Phone Number</label>#}
{#                    <label class="input"> <i class="icon-prepend fa fa-phone"></i>#}
{#                        <input type="tel" name="phone" data-mask="(999) 999-9999">#}
{#                    </label>#}
{#                </section>#}
{#            </div>#}
        </fieldset>

{#        <fieldset>#}
{#            <section>#}
{#                <label class="label">Street 1</label>#}
{#                <label for="address" class="input">#}
{#                    <input type="text" name="street1">#}
{#                </label>#}
{#            </section>#}
{#            <section>#}
{#                <label class="label">Street 2</label>#}
{#                <label for="address" class="input">#}
{#                    <input type="text" name="street2">#}
{#                </label>#}
{#            </section>#}
{#            <div class="row">#}
{#                <section class="col col-5">#}
{#                    <label class="label">City</label>#}
{#                    <label class="input">#}
{#                        <input type="text" name="city">#}
{#                    </label>#}
{#                </section>#}
{#                <section class="col col-4">#}
{#                    <label class="label">State</label>#}
{#                    <label class="input">#}
{#                        <input type="text" name="state">#}
{#                    </label>#}
{#                </section>#}
{#                <section class="col col-3">#}
{#                    <label class="label">Zip Code</label>#}
{#                    <label class="input">#}
{#                        <input type="text" name="zip_code">#}
{#                    </label>#}
{#                </section>#}
{#            </div>#}
{#        </fieldset>#}

        <fieldset>
            <section>
                <label class="label">Groups</label>
                <label class="input">
                    <input type="text" id="user_info_group_sel" name="groups">
                </label>
            </section>
        </fieldset>
    </form>
    <div class="widget-footer">
{#        <button type="button" class="btn btn-default" data-dismiss="modal">#}
{#            Cancel#}
{#        </button>#}
        <button type="submit" class="btn btn-primary" form="user_info_form">
            Save
        </button>
    </div>
</div>
<!-- end widget content -->

</div>
<!-- end widget div -->

</div>
<!-- end widget -->

</article>
<!-- WIDGET END -->

</div>
<!-- end row -->

</section>
<!-- end widget grid -->

<!-- Modal -->
<div class="modal fade" id="new_user_modal" tabindex="-1" role="dialog" aria-labelledby="new_user_modal_label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">New User</h4>
            </div>
            <div class="modal-body">
                <form action="" id="new_user_form" class="smart-form" novalidate="novalidate">
                    <fieldset>
                        <div class="row">
                            <section class="col col-6">
                                <label class="label">First Name</label>
                                <label class="input"> <i class="icon-prepend fa fa-user"></i>
                                    <input type="text" id="new_user_first_name" name="first_name">
                                </label>
                            </section>
                            <section class="col col-6">
                                <label class="label">Last Name</label>
                                <label class="input"> <i class="icon-prepend fa fa-user"></i>
                                    <input type="text" name="last_name">
                                </label>
                            </section>
                        </div>
                        <div class="row">
                            <section class="col col-6">
                                <label class="label">Username</label>
                                <label class="input"> <i class="icon-prepend fa fa-user"></i>
                                    <input type="text" name="username">
                                </label>
                            </section>
                            <section class="col col-6">
                                <label class="label">Display Name</label>
                                <label class="input">
                                    <i class="icon-prepend fa fa-user"></i>
                                    <i class="icon-append fa fa-question-circle"></i>
                                    <input type="text" name="display_name">
                                    <b class="tooltip tooltip-top-right">
                                        <i class="fa fa-warning txt-color-teal"></i>
                                        Leave blank to user first and last name
                                    </b>
                                </label>
                            </section>
                        </div>
                        <div class="row">
                            <section class="col col-6">
                                <label class="label">Password</label>
                                <label class="input"> <i class="icon-prepend fa fa-lock"></i>
                                    <input type="password" id="new_user_password" name="password">
                                </label>
                            </section>
                            <section class="col col-6">
                                <label class="label">Confirm Password</label>
                                <label class="input"> <i class="icon-prepend fa fa-lock"></i>
                                    <input type="password" name="password2">
                                </label>
                            </section>
                        </div>
                        <div class="row">
                            <section class="col col-6">
                                <label class="label">Email</label>
                                <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                                    <input type="email" id="new_user_email" name="email">
                                </label>
                            </section>
                            <section class="col col-6">
                                <label class="label">Confirm Email</label>
                                <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                                    <input type="email" name="email2">
                                </label>
                            </section>
                        </div>
                        <div class="row">
                            <section class="col col-6">
                                <label class="label">Birth Day <small>(month/day/year)</small></label>
                                <label class="input"> <i class="icon-prepend fa fa-calendar"></i>
                                    <input type="text" name="birthday" class="form-control" data-mask="99/99/9999" data-mask-placeholder="-">
                                </label>
                            </section>
                            <section class="col col-6">
                                <label class="label">Phone Number</label>
                                <label class="input"> <i class="icon-prepend fa fa-phone"></i>
                                    <input type="tel" name="phone" data-mask="(999) 999-9999">
                                </label>
                            </section>
                        </div>
                    </fieldset>

                    <fieldset>
                        <section>
                            <label class="label">Street 1</label>
                            <label for="address" class="input">
                                <input type="text" name="street1">
                            </label>
                        </section>
                        <section>
                            <label class="label">Street 2</label>
                            <label for="address" class="input">
                                <input type="text" name="street2">
                            </label>
                        </section>
                        <div class="row">
                            <section class="col col-5">
                                <label class="label">City</label>
                                <label class="input">
                                    <input type="text" name="city">
                                </label>
                            </section>
                            <section class="col col-4">
                                <label class="label">State</label>
                                <label class="input">
                                    <input type="text" name="state">
                                </label>
                            </section>
                            <section class="col col-3">
                                <label class="label">Zip Code</label>
                                <label class="input">
                                    <input type="text" name="zip_code">
                                </label>
                            </section>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button type="submit" class="btn btn-primary" form="new_user_form">
                    Create
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript">

    // DO NOT REMOVE : GLOBAL FUNCTIONS!
    pageSetUp();

    // PAGE RELATED SCRIPTS

    /* remove previous elems */

    if($('.DTTT_dropdown.dropdown-menu').length){
        $('.DTTT_dropdown.dropdown-menu').remove();
    }

    loadDataTableScripts();
    function loadDataTableScripts() {
        loadScript("/lib/plugin/datatables/jquery.dataTables.min.js", function(){
            loadScript("/lib/plugin/datatables/dataTables.colVis.min.js", function(){
                loadScript("/lib/plugin/datatables/dataTables.tableTools.min.js", function(){
                    loadScript("/lib/plugin/datatables/dataTables.bootstrap.min.js", function () {
                        loadScript("/lib/plugin/select2/select2.min.js", function () {
                            loadScript("/lib/typehead/typeahead.js", initialize);
                        });
                    });
                });
            });
        });
    }

    function initialize() {
        /* Add the events etc before DataTables hides a column */
        $("#datatable_fixed_column thead input").keyup(function() {
            oTable.fnFilter(this.value, oTable.oApi._fnVisibleToColumnIndex(oTable.fnSettings(), $("thead input").index(this)));
        });

        $("#datatable_fixed_column thead input").each(function(i) {
            this.initVal = this.value;
        });
        $("#datatable_fixed_column thead input").focus(function() {
            if (this.className == "search_init") {
                this.className = "";
                this.value = "";
            }
        });
        $("#datatable_fixed_column thead input").blur(function(i) {
            if (this.value == "") {
                this.className = "search_init";
                this.value = this.initVal;
            }
        });

        loadScript("/js/admin/users/users.js", function () {
            user_load_cb();
        });
    }
    var new_user_modal = $('#new_user_modal');
    new_user_modal.modal({show: false});
    new_user_modal.on('shown.bs.modal', function() {
        $('#new_user_first_name').focus();
    });
    $('#add_user_btn').click(function () {
        new_user_modal.modal('show');
    });


</script>
